class Controls{constructor(t){this.mediaPlayer=t}set elementBtnResize(t){try{this._elementBtnResize=t}catch(t){throw t}}get elementBtnResize(){try{return this._elementBtnResize}catch(t){throw t}}set elementBtnFullScreen(t){try{this._elementBtnFullScreen=t}catch(t){throw t}}get elementBtnFullScreen(){try{return this._elementBtnFullScreen}catch(t){throw t}}set mediaPlayer(t){try{this._mediaPlayer=t}catch(t){throw t}}get mediaPlayer(){try{return this._mediaPlayer}catch(t){throw t}}get elementHtml(){try{return this._elementHtml}catch(t){throw t}}set elementHtml(t){try{this._elementHtml=t}catch(t){throw t}}set media(t){try{this._media=t}catch(t){throw t}}get media(){try{return this._media}catch(t){throw t}}set elementHtmltrackHistory(t){try{this._elementHtmltrackHistory=t}catch(t){throw t}}get elementHtmltrackHistory(){try{return this._elementHtmltrackHistory}catch(t){throw t}}set elementHtmlCurrentTime(t){try{this._elementHtmlCurrentTime=t}catch(t){throw t}}get elementHtmlCurrentTime(){try{return this._elementHtmlCurrentTime}catch(t){throw t}}set elementHtmlDuration(t){try{this._elementHtmlDuration=t}catch(t){throw t}}get elementHtmlDuration(){try{return this._elementHtmlDuration}catch(t){throw t}}set volume(t){try{this.media.volume=t,this.elementHtmlVol.value=t}catch(t){throw t}}get volume(){try{return this.media.volume}catch(t){throw t}}set elementHtmlVol(t){try{this._elementHtmlVol=t}catch(t){throw t}}get elementHtmlVol(){try{return this._elementHtmlVol}catch(t){throw t}}set elementHtmlDescription(t){try{this._elementHtmlDescription=t}catch(t){throw t}}get elementHtmlDescription(){try{return this._elementHtmlDescription}catch(t){throw t}}set elementHtmlBtnPlay(t){try{this._elementHtmlBtnPlay=t}catch(t){throw t}}get elementHtmlBtnPlay(){try{return this._elementHtmlBtnPlay}catch(t){throw t}}set elementHtmlBtnPause(t){try{this._elementHtmlBtnPause=t}catch(t){throw t}}get elementHtmlBtnPause(){try{return this._elementHtmlBtnPause}catch(t){throw t}}createInputTrack(){try{let t=document.createElement("input");return t.className="history",t.type="range",t.min="0",t.step="any",t.value="0",t.name="history",t}catch(t){throw t}}createInputVol(){try{let t=document.createElement("input");return t.type="range",t.min="0",t.step="any",t.value="0",t.name="vol",t.max="1",t}catch(t){throw t}}createDivDescription(t){try{let e=document.createElement("div");return e.id="description",e.innerHTML=`${t}`,e}catch(t){throw t}}setTopHistory(){try{this.elementHtmltrackHistory.style.top=`calc(${this.media.style.height} - 5vh)`}catch(t){throw t}}setTrackHistoryElementHtml(t,e){try{let t=null;this.elementHtmltrackHistory=document.createElement("div"),this.elementHtmltrackHistory.className="history",this.elementHtmltrackHistory.appendChild(this.createInputTrack()),this.setTopHistory(),this.elementHtmltrackHistory.style.width=this.mediaPlayer.conf.width;let e=()=>{let l=null;l=setTimeout(()=>{this.elementHtmltrackHistory.parentNode.style.backgroundColor="transparent",this.mediaPlayer.canvas.elementHtml.style.filter="blur(0)",this.volume=t,t=null,this.elementHtmltrackHistory.removeEventListener("mouseup",e),clearTimeout(l)},0)},l=()=>{let l=Array.prototype.find.call(this.elementHtmltrackHistory.childNodes,t=>"history"===t.className);null==t&&(t=this.volume,this.volume="0"),this.elementHtmltrackHistory.parentNode.style.backgroundColor="rgba(0,0,0,0.7)",this.mediaPlayer.canvas.elementHtml.style.filter="blur(8px)",this.media.currentTime=l.value,this.elementHtmltrackHistory.addEventListener("mouseup",e)};this.elementHtmltrackHistory.addEventListener("input",l),this.elementHtmltrackHistory.onclick=(t=>{t.stopPropagation()})}catch(t){throw t}}setCurrentTimeElementHtml(t,e){try{this.elementHtmlCurrentTime=document.createElement("span"),this.elementHtmlCurrentTime.innerHTML="&nbsp;00:00&nbsp;&nbsp;&nbsp;"}catch(t){throw t}}setDurationElementHtml(t,e){try{this.elementHtmlDuration=document.createElement("span"),this.elementHtmlDuration.innerHTML="00:00"}catch(t){throw t}}setVolElementHtml(t,e){try{this.elementHtmlVol=document.createElement("span"),this.elementHtmlVol.className="vol";let t=document.createElement("i");t.className="gg-volume",this.elementHtmlVol.appendChild(t),this.elementHtmlVol.appendChild(this.createInputVol()),this.setLeftVolHtml(),this.elementHtmlVol.oninput=(()=>{let t=Array.prototype.find.call(this.elementHtmlVol.childNodes,t=>"INPUT"===t.tagName);this.volume=t.value})}catch(t){throw t}}setDescriptionElementHtml(t,e){try{this.elementHtmlDescription=document.createElement("div"),this.elementHtmlDescription.appendChild(this.createDivDescription(e.title))}catch(t){throw t}}setBtnPlayElementHtml(t,e){try{this.elementHtmlBtnPlay=document.createElement("button"),this.elementHtmlBtnPlay.className="button",this.elementHtmlBtnPlay.onclick=(()=>{this.media.paused?this.onPlay():this.onPause()})}catch(t){throw t}}setBtnsControlsElementHtml(t,e){try{let t=document.createElement("div");return t.className="btns",t.appendChild(this.elementHtmlBtnPlay),t.appendChild(this.elementHtmlVol),t.appendChild(this.elementHtmlCurrentTime),t.appendChild(this.elementHtmlDuration),t.appendChild(this.elementBtnResize),t.appendChild(this.elementBtnFullScreen),t}catch(t){throw t}}setBtnResize(t,e){try{this.elementBtnResize=document.createElement("button"),this.elementBtnResize.className="resize-btn",this.configureLeftBtnFullScreen(),this.elementBtnResize.onclick=(t=>{document.fullscreenElement?document.exitFullscreen().then(()=>{this.mediaPlayer.reziseExitToFullScreen(),this.mediaPlayer.reziseScreenToWindows()}):this.mediaPlayer.reziseScreenToWindows()}),this.elementBtnResize.ondblclick=(t=>{t.stopPropagation()})}catch(t){throw t}}configureLeftBtnFullScreen(){try{this.elementBtnResize.style.marginLeft=`calc(140% - ${this.mediaPlayer.conf.width})`}catch(t){throw t}}configureLeftBtnInFullScreen(){try{this.elementBtnResize.style.marginLeft="calc(170%  - 100vw)"}catch(t){throw t}}createControls(t,e){try{this.media=t,this.setTrackHistoryElementHtml(t,e),this.setCurrentTimeElementHtml(t,e),this.setDurationElementHtml(t,e),this.setVolElementHtml(t,e),this.setDescriptionElementHtml(t,e),this.setBtnPlayElementHtml(t,e),this.setBtnResize(t,e),this.setBtnFullScreen(t,e),this.elementHtml=document.createElement("div"),this.elementHtml.className="controls",this.setTopControls(),this.elementHtml.appendChild(this.setBtnsControlsElementHtml(t,e)),this.elementHtml.onclick=(t=>{t.stopPropagation()})}catch(t){throw t}}setBtnFullScreen(t,e){try{let t=document.createElement("span");t.className="btn-full-screen",this.elementBtnFullScreen=t}catch(t){throw t}}setTopControls(){try{this.elementHtml.style.marginTop=`calc(${this.media.style.height} - 5vh)`}catch(t){throw t}}beforeUpdateTrackbackAndTime(){return new Promise((t,e)=>{t(!0)})}afterUpdateTrackbackAndTime(){return new Promise((t,e)=>{t(!0)})}updateTrackbackAndTime(){try{this.beforeUpdateTrackbackAndTime().then(()=>{this.mediaPlayer.canvas.context.drawImage(this.media,0,0,this.mediaPlayer.canvas.getVirtualWidth(),this.mediaPlayer.canvas.getVirtualHeight()),Array.prototype.find.call(this.elementHtmltrackHistory.childNodes,t=>"history"===t.className).value=this.media.currentTime,this.elementHtmlCurrentTime.innerHTML="&nbsp;&nbsp;"+this.showformatInMinutes(this.media.currentTime)+"&nbsp;/&nbsp;",this.afterUpdateTrackbackAndTime().then(()=>null)})}catch(t){throw t}}onPlay(){try{this.media.play(),this.elementHtmlBtnPlay.className+=" paused"}catch(t){throw t}}onPause(){try{this.media.pause(),this.elementHtmlBtnPlay.className="button"}catch(t){throw t}}beforePlay(){try{return new Promise((t,e)=>{t(!0)})}catch(t){throw t}}beforePause(){try{return new Promise((t,e)=>{t(!0)})}catch(t){throw t}}afterPlay(){try{return new Promise((t,e)=>{t(!0)})}catch(t){throw t}}afterPause(){try{return new Promise((t,e)=>{t(!0)})}catch(t){throw t}}showformatInMinutes(t){var e=~~(t/3600),l=~~(t%3600/60),n=~~t%60,r="";return e>0&&(r+=e+":"+(l<10?"0":"")),r+=l+":"+(n<10?"0":""),r+=""+n}setLeftVolHtml(){}}export default Controls;